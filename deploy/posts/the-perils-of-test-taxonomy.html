<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="author" content="Ryan James Spencer" />
    <meta name="description" content="the blog of Ryan James Spencer" />
    <meta http-equiv="content-language" content="en">
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" type="text/css" href="../assets/bulma.min.css" />
    <title>The Perils of Test Taxonomy &#8226; Ryan James Spencer</title>
    <style>
      .social-icon {
        stroke: currentColor;
        fill: none;
        position: relative;
        top: 2px;
        color: #000;
        width: 24px;
        height: 24px;
      }
    </style>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-157540512-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-157540512-1');
    </script>

  </head>
  <body>
    <section class="section">
      <div class="container">
        <div class="columns">
          <div class="column is-one-quarter is-hidden"></div>
          <div class="column is-one-quarter is-hidden-mobile">
            <a href="https://justanotherdot.com">
              <h2 class="title has-text-centered">
                justanotherdot
              </h2>
            </a>
            <h2 class="subtitle has-text-centered">
              Ryan James Spencer
            </h2>
            <div class="columns is-mobile">
              <div class="column is-one-thirds"></div>
              <div class="column">
                <a href="mailto:ryan@justanotherdot.com" target="_blank" rel="noopener">
                  <!--<span class="screen-reader">Contact via Email</span>-->
                  <svg class="social-icon" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">

                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>

                  </svg>
                </a>
              </div>
              <div class="column">
                <a href="https://github.com/justanotherdot" target="_blank" rel="noopener">
                  <!--<span class="screen-reader">Open Github account in new tab</span>-->
                  <svg class="social-icon" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
                    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                  </svg>
                </a>
              </div>
              <div class="column">
                <a href="https://twitter.com/_justanotherdot" target="_blank" rel="noopener">
                  <!--<span class="screen-reader">Open Twitter account in new tab</span>-->
                  <svg class="social-icon" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
                    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
                  </svg>
                </a>
              </div>
              <div class="column">
                <a href="https://www.youtube.com/channel/UCJuYbXXSnUleBPFhDGkKsFg" target="_blank" rel="noopener">
                  <!--<span class="screen-reader">Open Youtube account in new tab</span>-->
                  <svg class="social-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="00 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-youtube">
                    <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 03.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path>
                    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
                  </svg>
                </a>
              </div>

              <div class="column is-one-thirds"></div>
            </div>
            <!-- DESKTOP NEWSLETTER BEGIN -->
            <div class="columns is-hidden-touch">
              <div class="column is-one-thirds"></div>
              <div class="column is-10">
                <h2 class="has-text-weight-semibold is-size-5 is-5 has-text-centered">Join the Newsletter</h2>
                <div>
                  <script async data-uid="c3c1e70aed" src="https://crafty-experimenter-867.ck.page/c3c1e70aed/index.js"></script>
                </div>
              </div>
              <div class="column is-one-thirds"></div>
            </div>
            <!-- DESKTOP NEWSLETTER END -->
          </div>
          <div class="column is-half">
            <h1 class="title is-2">The Perils of Test Taxonomy</h1>
            <h2 class="subtitle is-6">December  8 2019,  2:53PM by Ryan James Spencer</h2>
            <div class="content is-medium">
              <p>You are wasting your time by classifying tests. Instead of discerning what
defines a test we'll hone in on tests to avoid. If a test is:</p>
<ul>
<li>slow</li>
<li>flaky</li>
<li>or subject to churn as new features are added</li>
</ul>
<p>then delete the offending test right now.</p>
<p>For testing to work your test suites can't be grounds for noise pollution. Nor
can they be a museum for specimens fit for dissection. Decide on what you want
to guarantee and work to achieve that guarantee <em>within contraint</em>. <strong>Tests
themselves are un-tested chunks of code.</strong> Tests that exhibit any of the
characteristics listed above lose local reasoning and are, therefore, hard for a
human to verify.</p>
<p>Slow and flaky tests mean you can't form a feedback loop with them. It means
people will stop running the test suites to drive development. I often will
chalk up work in CI for build bots to test and also test things locally at the
same time, racing the two to get feedback as soon as possible. Tags and simple
test names provide a handle to hone in on specific areas of functionality that
can be verified as new features are added. Fast tests also mean people will add
more tests and while a test <em>suite</em> might continue to increase in time needed to
finish, it is arguably a point to break test suites up into new test suites and,
possibly, separate libraries and programs that have their own test suites.
Decomposition shows its beautiful face once again.</p>
<p>A non-deterministic (i.e. flaky) test may seem to <em>sometimes</em> provide a
guarantee but the reality is much bleaker: a non-deterministic test tests
nothing. I am not talking about tests that fail because of the occasional
third-party service going down or network issue. I know you will be accordingly
<a href="https://xkcd.com/303/">play-fighting with swords</a> if that happens. What I am
referring to is the situation where tests are <em>known</em> to occasionally but the
reason is unclear. Is it configuration with a database? A third party library?
Some state setup or internals of the subject of the test? Flaky tests are white
noise. Devs start to ignore them and must waste time determining what is at
fault if they are to ascertain if the test failure is because of something they
should truly be concerned about or &quot;just because&quot;.</p>
<p>It is also a waste of time when a new feature is birthed into the system only to
lead a dev on a surgery process of fixing an array of tests that now fail. This
is distinct from intentional changes: a test might need fixing because you are
intentionally migrating away from some older behaviour into a new one and doing
so in-place. But tests should have isolation: bringing in new functionality
shouldn't <em>necessarily</em> mean overlap on older functionality and, therefore,
older tests.</p>
<p>It's helpful to delete tests and see if you would passionately defend against
their deletion in the process. If there is no passionate defense you will not
likely miss them when they are gone. A giant wall of tests is also a giant wall
of maintenance burden and there is only so much energy a group of persons can
apply to maintaining something they don't care about whatsoever.</p>
<p>Tests and types provide a degree of confidence, one that allows us to assuredly
tell others something is <em>more likely</em> to be correct, such that is to say it is
aligned with some specification or set of requirements. <strong>Lacing your codebase
with questions that can be quickly answered with a clear yes or no helps aid
confidence.</strong> Debating if something is <em>truly</em> a unit test or integration test
or whatever test is the equivalent of the art communities clich√©  of <em>&quot;but is it
art?&quot;</em>; humorous but not useful. Along with foundations such as quality release
and deployment engineering, operations, visibility into running systems, and so
forth, pushing things out to production becomes trivial with time. I obviously
and hand-waving away from the concern of scale here. Scale drastically impacts
trust and confidence, but many organisations are still paving a path forward and
charting new territory in this space to still make shipping code something sane.
Whatever you take from the above, the most important aspect about any kind of
testing is to make sure you are asking yourself one primary question when
writing tests: <a href="https://www.justanotherdot.com/posts/the-lowly-assert.html"><strong>What will you
assert?</strong></a></p>

            </div>
          </div>

          <hr class="is-hidden-desktop">
            <!-- MOBILE NEWSLETTER BEGIN -->
            <div class="columns is-hidden-desktop">
              <div class="column is-10 is-centered">
                <h2 class="has-text-weight-semibold is-size-5 is-5 has-text-centered">Join the Newsletter</h2>
                <div>
                  <script async data-uid="c3c1e70aed" src="https://crafty-experimenter-867.ck.page/c3c1e70aed/index.js"></script>
                </div>
              </div>
            </div>
            <!-- MOBILE NEWSLETTER END -->
        </div>
      </div>
    </section>
  </body>
</html>
